<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #12001f, #000);
  font-family: 'Poppins', sans-serif;
  color: #f5e9ff;
  overflow: hidden;
}

.vignette {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, transparent 55%, rgba(0,0,0,0.65));
  pointer-events: none;
  z-index: 2;
}

/* ===== STAR NAME ===== */
.star-name {
  position: fixed;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2.4em;
  letter-spacing: 6px;
  font-weight: 600;
  color: #fff;
  text-shadow:
    0 0 10px rgba(255,255,255,0.8),
    0 0 30px rgba(255,77,109,0.8),
    0 0 60px rgba(255,77,109,0.4);
  opacity: 0;
  transition: opacity 2s ease;
  pointer-events: none;
  z-index: 9999;
}

.star-emoji {
  position: fixed;
  font-size: 25px;
  opacity: 0.85;
  pointer-events: none;
  transform: translate(-50%, -50%); /* center the emoji at x,y */
}


@keyframes orbit {
  from { transform: rotate(0deg) translateX(18px); }
  to   { transform: rotate(360deg) translateX(18px); }
}


/* ===== COSMIC DEPTH ===== */
.stars, .stars::after {
  position: fixed;
  inset: 0;
  background:
    radial-gradient(1px 1px at 20% 30%, #fff, transparent),
    radial-gradient(1px 1px at 80% 60%, #fff, transparent),
    radial-gradient(1px 1px at 50% 80%, #fff, transparent),
    radial-gradient(1px 1px at 70% 20%, #fff, transparent);
  background-size: 200px 200px;
  animation: drift 120s linear infinite;
  opacity: 0.25;
  pointer-events: none;
}

.stars::after {
  content: "";
  animation-duration: 200s;
  opacity: 0.15;
}

@keyframes drift {
  from { transform: translateY(0); }
  to { transform: translateY(-200px); }
}


/* ===== ATMOSPHERE ===== */
.mist {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 30% 40%, rgba(255,255,255,0.04), transparent 40%),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,0.03), transparent 45%);
  animation: mist 18s infinite alternate;
  pointer-events: none;
}

@keyframes mist {
  from { transform: translate(-4%, -4%); }
  to { transform: translate(4%, 4%); }
}

/* floating symbols */
.symbol {
  position: absolute;
  font-size: 18px;
  opacity: 0.15;
  animation: floatUp linear infinite;
}

@keyframes floatUp {
  from { transform: translateY(110vh); }
  to { transform: translateY(-10vh); }
}

/* ===== SCREENS ===== */
.screen {
  position: absolute;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  padding: 30px;
  text-align: center;
}

.screen.active { display: flex; }

.whisper {
  font-size: 1.1em;
  opacity: 0.7;
  letter-spacing: 1.5px;
  animation: breathe 6s ease-in-out infinite;
}

@keyframes breathe {
  0%,100% { opacity: 0.55; }
  50% { opacity: 0.9; }
}

/* ===== HOLD RING ===== */
.hold {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 rgba(255,255,255,0.3); }
  50% { box-shadow: 0 0 30px rgba(255,255,255,0.5); }
  100% { box-shadow: 0 0 0 rgba(255,255,255,0.3); }
}

/* ===== PHOTO RITUAL ===== */
.photo {
  width: 230px;
  height: 300px;
  border-radius: 18px;
  overflow: hidden;
  opacity: 0;
  transform: scale(0.9) rotate(-1deg);
  transition: all 1.4s cubic-bezier(.2,.8,.2,1);
  box-shadow:
    0 20px 50px rgba(0,0,0,0.6),
    inset 0 0 20px rgba(255,255,255,0.08);
}

.photo.show {
  opacity: 1;
  transform: scale(1) rotate(0deg);
}

.photo {
  position: relative;
}

.photo::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    120deg,
    rgba(255,255,255,0.18),
    transparent 45%
  );
  pointer-events: none;
}


.photo::before {
  content: none;
}

.photo.show {
  opacity: 1;
  transform: scale(1);
}

.photo.show::before {
  opacity: 1;
}

.photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ===== FINAL RITUAL ===== */
.heart-core {
  font-size: 3em;
  animation: heartBeat 1.5s infinite;
}

@keyframes heartBeat {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

.final {
  font-size: 1.7em;
  opacity: 0;
  transition: opacity 3s ease;
  line-height: 1.7;
  margin-top: 80px;
  z-index: 10;
  position: relative;
  text-shadow:
    0 0 15px rgba(255,77,109,0.4),
    0 0 40px rgba(255,77,109,0.2);
}


/* ===== YES / NO BUTTONS ===== */
button {
  padding: 12px 22px;
  border-radius: 25px;
  border: none;
  font-size: 1em;
  font-weight: 600;
  cursor: pointer;
  position: absolute;
}

#yesBtn {
  left: 0;
  background: #ff4d6d;
  color: white;
}

#noBtn {
  right: 0;
  background: rgba(255,255,255,0.2);
  color: white;
}
</style>
</head>

<body>
<div class="vignette"></div>
<div class="stars"></div>
<div class="mist"></div>

<!-- SCREEN 1 -->
<div class="screen active" id="s1">
  <div class="whisper">From MAHIPAGLU üíñ</div>
  <div class="whisper">Hold gently‚Ä¶ some things are fragile üí´, Chota don</div>
  <div class="hold" ontouchstart="unlock(2)" onmousedown="unlock(2)">üóùÔ∏è</div>
</div>

<!-- SCREEN 2 -->
<div class="screen" id="s2">
  <p class="whisper">
    Some souls arrive quietly‚Ä¶<br>
    and stay forever.
  </p>
  <div class="hold" ontouchstart="unlock(3)" onmousedown="unlock(3)">‚ú®</div>
</div>

<!-- PHOTO 1 -->
<div class="screen" id="s3">
  <div class="photo" id="p1">
    <img src="her1.jpg.jpeg">
  </div>
</div>

<!-- PHOTO 2 -->
<div class="screen" id="s4">
  <div class="photo" id="p2">
    <img src="her2.jpg.jpeg">
  </div>
</div>

<!-- PHOTO 3 -->
<div class="screen" id="s5">
  <div class="photo" id="p3">
    <img src="her3.jpg.jpeg">
  </div>
</div>

<!-- FINAL -->
<div class="screen" id="s6">
  <div class="whisper">One last choice‚Ä¶<br>
  who means alot to Me</div>

  <div class="hold" style="margin-bottom:20px;">
    <div class="heart-core">‚ù§Ô∏è</div>
  </div>

  <div class="final show" id="finalText">
    You were never just a moment.<br><br>
    You are my choice.
  </div>

  <div style="margin-top:30px; position:relative; width:260px; height:80px;">
    <button id="yesBtn" onclick="yesChosen()">YES üíñ</button>
    <button id="noBtn">NO üôà</button>
  </div>

  <div class="whisper" id="warning" style="margin-top:15px;"></div>
</div>
<script>
const p1 = document.getElementById("p1");
const p2 = document.getElementById("p2");
const p3 = document.getElementById("p3");
const finalText = document.getElementById("finalText");
let starLoopStarted = false;
let emojiAngle = 0;
const orbitingEmojis = [];

const nameText = "MAHI"; 
const cuteEmojis = ["üíñ","‚ú®","üå∏","üí´","ü¶ã","üíû"];

function startStarNameLoop() {
  if (starLoopStarted) return;
  starLoopStarted = true;

  const el = document.getElementById("starName");
  if (!el) return;

  function animateName() {
    el.innerHTML = "";
    el.style.opacity = 1;

    let i = 0;
    const typer = setInterval(() => {
      if (i < nameText.length) {
        el.innerHTML += nameText[i];
        for(let i=0; i<4; i++){
  setTimeout(spawnEmoji, i*150);
}
        i++;
      } else {
        clearInterval(typer);
        setTimeout(() => el.style.opacity = 0, 2500);
      }
    }, 400);

    setTimeout(animateName, 7000);
  }

  animateName();
}

function spawnEmoji() {
  const nameEl = document.getElementById("starName");
  if (!nameEl) return;

  const rect = nameEl.getBoundingClientRect();
  const cx = rect.left + rect.width / 2;
  const cy = rect.top + rect.height / 2;

  const emoji = document.createElement("div");
  emoji.className = "star-emoji";
  emoji.innerText = cuteEmojis[Math.floor(Math.random() * cuteEmojis.length)];
  document.body.appendChild(emoji);

  // Random radius and starting angle
  const radius = 60 + Math.random() * 20;
  const angle = Math.random() * Math.PI * 2;
  const speed = 0.01 + Math.random() * 0.01; // rotation speed

  orbitingEmojis.push({ el: emoji, cx, cy, radius, angle, speed });

  // Remove after 7 seconds
  setTimeout(() => {
    emoji.remove();
    const i = orbitingEmojis.findIndex(o => o.el === emoji);
    if (i > -1) orbitingEmojis.splice(i, 1);
  }, 7000);
}

function animateEmojis() {
  const nameEl = document.getElementById("starName");
  if (!nameEl) return requestAnimationFrame(animateEmojis);

  const rect = nameEl.getBoundingClientRect();
  const cx = rect.left + rect.width / 2;
  const cy = rect.top + rect.height / 2;

  orbitingEmojis.forEach(o => {
    o.angle += o.speed;
    const x = cx + Math.cos(o.angle) * o.radius;
    const y = cy + Math.sin(o.angle) * o.radius;
    o.el.style.left = x + "px";
    o.el.style.top = y + "px";
  });

  requestAnimationFrame(animateEmojis);
}


animateEmojis();

function shootingStar() {
  const star = document.createElement("div");
  star.style.position = "fixed";
  star.style.top = Math.random() * 50 + "vh";
  star.style.left = "-10vw";
  star.style.width = "120px";
  star.style.height = "2px";
  star.style.background =
    "linear-gradient(90deg, white, transparent)";
  star.style.opacity = 0.8;
  star.style.transform = "rotate(-10deg)";
  star.style.transition = "transform 1.2s linear, opacity 1.2s";
  document.body.appendChild(star);

  requestAnimationFrame(() => {
    star.style.transform = "translateX(120vw) rotate(-10deg)";
    star.style.opacity = 0;
  });

  setTimeout(() => star.remove(), 1300);
}

// ===== MUSIC =====
function startBackgroundMusic() {
  const music = document.getElementById("bgMusic");
  if (music.paused) {
    music.volume = 0.5;
    music.play().catch(() => {});
  }
}

document.addEventListener("click", startBackgroundMusic, { once: true });
document.addEventListener("touchstart", startBackgroundMusic, { once: true });

// ===== SYMBOLS =====
function spawnSymbols(count = 20) {
  for (let i = 0; i < count; i++) {
    const s = document.createElement("div");
    s.className = "symbol";
    s.innerText = ["‚ú¶","‚úß","‚òæ","‚ú∂","‚ú∑"][Math.floor(Math.random()*5)];
    s.style.left = Math.random() * 100 + "vw";
    s.style.animationDuration = 8 + Math.random() * 10 + "s";
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 15000);
  }
}

// ===== FLOW =====
let holding = false;
let timer;

function unlock(n) {
  if (holding) return;
  holding = true;
  timer = setTimeout(() => {
    show(n);
    holding = false;
  }, 1500);
}

document.addEventListener("mouseup", reset);
document.addEventListener("touchend", reset);

function reset() {
  holding = false;
  clearTimeout(timer);
}

function show(n) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById("s" + n).classList.add("active");

  spawnSymbols(25);

  if (n === 3) setTimeout(() => p1.classList.add("show"), 400);
  if (n === 4) setTimeout(() => p2.classList.add("show"), 400);
  if (n === 5) setTimeout(() => p3.classList.add("show"), 400);

  if (n >= 3 && n < 6) setTimeout(() => show(n + 1), 4200);
}

// ===== FINAL BUTTONS =====
const noBtn = document.getElementById("noBtn");
const warning = document.getElementById("warning");
const warnings = [
  "Hey‚Ä¶ easy there üòå",
  "That option isn‚Äôt meant for you üñ§",
  "Nice try‚Ä¶ but my heart says no üòè",
  "You really thought I‚Äôd let you press that? üíï"
];

noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("touchstart", moveNo);

function moveNo() {
  const x = Math.random() * 140 - 70;
  const y = Math.random() * 40 - 20;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
  warning.innerText = warnings[Math.floor(Math.random() * warnings.length)];
}

// ===== YES CHOSEN =====
function yesChosen() {
  finalText.classList.add("show");
  finalText.style.opacity = 1;

  typeText(
    finalText,
    "I knew it.\n\nYou and me ‚Äî always.\n\nHappy Valentine‚Äôs Day ‚ù§Ô∏è"
  );

  spawnSymbols(50);

  for (let i = 0; i < 3; i++) {
    setTimeout(shootingStar, i * 600);
  }

  // üëá Delay name reveal
  setTimeout(() => {
  startStarNameLoop();
  }, 4500);

  const heartbeat = document.getElementById("heartbeatSound");

  function playHeartbeat() {
    heartbeat.currentTime = 0;
    heartbeat.play();
  }

  playHeartbeat();
  const interval = setInterval(playHeartbeat, 1500);

  setTimeout(() => {
    clearInterval(interval);
    heartbeat.pause();
  }, 10000);

  heartConstellation();
}

// ===== HEART CONSTELLATION =====
function heartConstellation() {
  const photos = [p1, p2, p3];
  const points = [];
  const scale = 6;

  for (let t = 0; t < Math.PI * 2; t += 0.15) {
    points.push({
      x: 16 * Math.pow(Math.sin(t), 3),
      y: -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t))
    });
  }

  photos.forEach(photo => {
    points.forEach(p => {
      const s = document.createElement("div");
      s.className = "symbol";
      s.innerText = "‚ú¶";
      s.style.left = "50%";
      s.style.top = "50%";
      document.body.appendChild(s);

      setTimeout(() => {
        s.style.transform =
          `translate(${p.x * scale}px, ${p.y * scale}px)`;
      }, 50);

      setTimeout(() => s.remove(), 5000);
    });
  });
}
document.addEventListener("mousemove", (e) => {
  const heart = document.querySelector(".heart-core");
  if (!heart) return;

  const r = heart.getBoundingClientRect();
  const dx = e.clientX - (r.left + r.width / 2);
  const dy = e.clientY - (r.top + r.height / 2);
  const d = Math.sqrt(dx * dx + dy * dy);

  heart.style.transform = `scale(${Math.max(1, 1.25 - d / 500)})`;
});
document.addEventListener("mousemove", (e) => {
  document.querySelectorAll(".photo").forEach(p => {
    const x = (e.clientX / window.innerWidth - 0.5) * 10;
    const y = (e.clientY / window.innerHeight - 0.5) * 10;
    p.style.transform = `translate(${x}px, ${y}px) scale(1.02)`;
  });
});
function typeText(el, text, speed = 45) {
  el.innerHTML = "";
  let i = 0;
  const timer = setInterval(() => {
    const char = text[i] === "\n" ? "<br>" : text[i];
    el.innerHTML += char;
    i++;
    if (i >= text.length) clearInterval(timer);
  }, speed);
}

</script>

<audio id="bgMusic" preload="auto" loop>
  <source src="bgmusic.mp3" type="audio/mpeg">
</audio>
<audio id="heartbeatSound" preload="auto">
  <source src="heartbeat.mp3" type="audio/mpeg">
</audio>
<div id="starName" class="star-name"></div>

</body>
</html>
